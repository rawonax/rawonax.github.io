---
title: "TIL - WebSocket ì•Œë¦¼ UI, ì˜ë„ì¹˜ ì•Šì€ ì¤‘ë³µ ì•Œë¦¼ ì‡¼"
categories: [frontend]
date: 2025-05-01
---

## ğŸ“£ ìƒí™©

WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ì•Œë¦¼ UI ë§Œë“¤ë˜ ì¤‘,  
ì•Œë¦¼ì´ ì¤‘ë³µìœ¼ë¡œ 2~3ë²ˆì”© ëœ¨ëŠ” ë¯¸ìŠ¤í„°ë¦¬í•œ ë²„ê·¸ ë°œìƒ.

---

## ğŸ§ª ë””ë²„ê¹…

- `useEffect` ë‚´ì—ì„œ `socket.on("message")`ë¥¼ ë“±ë¡í•˜ê³  ìˆì—ˆìŒ
- ê·¸ëŸ°ë° í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë  ë•Œë§ˆë‹¤ **listenerê°€ ì¤‘ì²©**ë¨ (ğŸ˜±)
- ê²°êµ­ í•œ ë©”ì‹œì§€ê°€ 3ë²ˆì”© ì²˜ë¦¬ë˜ëŠ” ê²°ê³¼â€¦

---

## ğŸ› ï¸ í•´ê²°

```ts
useEffect(() => {
  const handleMessage = (msg) => setMessages((prev) => [...prev, msg]);
  socket.on("message", handleMessage);
  return () => {
    socket.off("message", handleMessage); // ğŸ’¡ cleanup ì•ˆ í–ˆë˜ ê²Œ ë¬¸ì œ!
  };
}, []);
```
# âœ… êµí›ˆ
WebSocket ì“´ë‹¤ê³  í•˜ë©´ ë¬´ì¡°ê±´ cleanup í•¨ìˆ˜ ì¨ë¼. ì•ˆ ì“°ë©´ ì§€ì˜¥ë¬¸ ì—°ë‹¤.

useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ê³¼ ë Œë”ë§ êµ¬ì¡°ëŠ” WebSocketì—ì„œ íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤.